<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ro"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">basescalculator</a> &gt; <a href="index.source.html" class="el_package">me.bozga.ui</a> &gt; <span class="el_source">UI.java</span></div><h1>UI.java</h1><pre class="source lang-java linenums">package me.bozga.ui;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Map;

import javax.swing.BorderFactory;
import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTabbedPane;
import javax.swing.JTextField;

import me.bozga.core.BaseNumber;
import me.bozga.core.BaseNumberOperators;

<span class="nc" id="L23">public class UI {</span>

    private static JFrame frame;

    private static JTextField resultNumberField;
    private static JLabel arithmeticErrorLabel;

    private static JLabel baseConversionErrorLabel;

    /**
     * Initializes the main window.
     */
    public static void initialize() {
<span class="nc" id="L36">        frame = new JFrame(&quot;Bases Calculator&quot;);</span>
<span class="nc" id="L37">        frame.setSize(640, 480);</span>
<span class="nc" id="L38">        frame.setResizable(false);</span>
<span class="nc" id="L39">        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span>

<span class="nc" id="L41">        JTabbedPane pane = new JTabbedPane();</span>
<span class="nc" id="L42">        pane.setForeground(Color.black);</span>

        /*
         * Arithmetic operations panel
         */
<span class="nc" id="L47">        JPanel arithmeticOperationsPanel = new JPanel();</span>
<span class="nc" id="L48">        arithmeticOperationsPanel.setLayout(new BoxLayout(arithmeticOperationsPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L49">        pane.addTab(&quot;Arithmetic Operations&quot;, null, arithmeticOperationsPanel, &quot;Perform arithmetic operations.&quot;);</span>
        
        // settings panel
<span class="nc" id="L52">        JPanel arithmeticSettings = new JPanel();</span>
<span class="nc" id="L53">        arithmeticSettings.setBorder(BorderFactory.createTitledBorder(&quot;Settings&quot;));</span>
<span class="nc" id="L54">        arithmeticSettings.setMaximumSize(new Dimension(640, 300));</span>
<span class="nc" id="L55">        arithmeticOperationsPanel.add(arithmeticSettings);</span>

<span class="nc" id="L57">        JLabel operationLabel = new JLabel(&quot;Operation&quot;);</span>
<span class="nc" id="L58">        String[] allowedOperations = { &quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication by 1 digit&quot;, &quot;Division by 1 digit&quot; };</span>
<span class="nc" id="L59">        JComboBox&lt;String&gt; operationComboBox = new JComboBox&lt;&gt;(allowedOperations);</span>
<span class="nc" id="L60">        arithmeticSettings.add(operationLabel);</span>
<span class="nc" id="L61">        arithmeticSettings.add(operationComboBox);</span>

<span class="nc" id="L63">        JLabel baseLabel = new JLabel(&quot;Base&quot;);</span>
<span class="nc" id="L64">        Byte[] allowedBases = { 2, 3, 4, 5, 6, 7, 8, 9, 10, 16 };</span>
<span class="nc" id="L65">        JComboBox&lt;Byte&gt; baseComboBox = new JComboBox&lt;&gt;(allowedBases);</span>
<span class="nc" id="L66">        baseComboBox.setSelectedIndex(8);</span>
<span class="nc" id="L67">        arithmeticSettings.add(baseLabel);</span>
<span class="nc" id="L68">        arithmeticSettings.add(baseComboBox);</span>

        // perform panel
<span class="nc" id="L71">        JPanel arithmeticPerform = new JPanel();</span>
<span class="nc" id="L72">        arithmeticPerform.setLayout(new BoxLayout(arithmeticPerform, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L73">        arithmeticPerform.setBorder(BorderFactory.createTitledBorder(&quot;Perform&quot;));</span>
<span class="nc" id="L74">        arithmeticOperationsPanel.add(arithmeticPerform);</span>

<span class="nc" id="L76">        /* separator */ arithmeticPerform.add(Box.createVerticalGlue());</span>

<span class="nc" id="L78">        JPanel firstNumberPanel = new JPanel();</span>
<span class="nc" id="L79">        firstNumberPanel.setMaximumSize(new Dimension(640, 150));</span>
<span class="nc" id="L80">        JLabel firstNumberLabel = new JLabel(&quot;A = &quot;);</span>
<span class="nc" id="L81">        JTextField firstNumberField = new JTextField(16);</span>
<span class="nc" id="L82">        firstNumberPanel.add(firstNumberLabel);</span>
<span class="nc" id="L83">        firstNumberPanel.add(firstNumberField);</span>
<span class="nc" id="L84">        arithmeticPerform.add(firstNumberPanel);</span>

<span class="nc" id="L86">        JPanel secondNumberPanel = new JPanel();</span>
<span class="nc" id="L87">        secondNumberPanel.setMaximumSize(new Dimension(640, 150));</span>
<span class="nc" id="L88">        JLabel secondNumberLabel = new JLabel(&quot;B = &quot;);</span>
<span class="nc" id="L89">        JTextField secondNumberField = new JTextField(16);</span>
<span class="nc" id="L90">        secondNumberPanel.add(secondNumberLabel);</span>
<span class="nc" id="L91">        secondNumberPanel.add(secondNumberField);</span>
<span class="nc" id="L92">        arithmeticPerform.add(secondNumberPanel);</span>

<span class="nc" id="L94">        /* separator */ arithmeticPerform.add(Box.createVerticalGlue());</span>

<span class="nc" id="L96">        JPanel arithmeticCalculatePanel = new JPanel();</span>
<span class="nc" id="L97">        arithmeticCalculatePanel.setMaximumSize(new Dimension(640, 150));</span>
<span class="nc" id="L98">        JButton arithmeticCalculate = new JButton(&quot;Calculate&quot;);</span>
<span class="nc" id="L99">        arithmeticCalculate.addActionListener(new ActionListener() {</span>
            @Override public void actionPerformed(ActionEvent e) { 
<span class="nc" id="L101">                calculateAction(operationComboBox, baseComboBox, firstNumberField, secondNumberField); </span>
<span class="nc" id="L102">            }</span>
        });
<span class="nc" id="L104">        arithmeticCalculatePanel.add(arithmeticCalculate);</span>
<span class="nc" id="L105">        arithmeticPerform.add(arithmeticCalculatePanel);</span>

<span class="nc" id="L107">        JPanel resultNumberPanel = new JPanel();</span>
<span class="nc" id="L108">        resultNumberPanel.setMaximumSize(new Dimension(640, 150));</span>
<span class="nc" id="L109">        JLabel resultNumberLabel = new JLabel(&quot;Result&quot;);</span>
<span class="nc" id="L110">        resultNumberField = new JTextField(16);</span>
<span class="nc" id="L111">        resultNumberField.setEditable(false);</span>
<span class="nc" id="L112">        resultNumberPanel.add(resultNumberLabel);</span>
<span class="nc" id="L113">        resultNumberPanel.add(resultNumberField);</span>
<span class="nc" id="L114">        arithmeticPerform.add(resultNumberPanel);</span>

<span class="nc" id="L116">        JPanel arithmeticErrorPanel = new JPanel();</span>
<span class="nc" id="L117">        arithmeticErrorPanel.setMaximumSize(new Dimension(640, 150));</span>
<span class="nc" id="L118">        arithmeticErrorLabel = new JLabel(&quot;&quot;);</span>
<span class="nc" id="L119">        arithmeticErrorPanel.add(arithmeticErrorLabel);</span>
<span class="nc" id="L120">        arithmeticPerform.add(arithmeticErrorPanel);</span>

<span class="nc" id="L122">        /* separator */ arithmeticPerform.add(Box.createVerticalGlue());</span>

        /*
         * Base conversion panel
         */
<span class="nc" id="L127">        JPanel baseConversionPanel = new JPanel();</span>
<span class="nc" id="L128">        pane.addTab(&quot;Base Conversion&quot;, null, baseConversionPanel, &quot;Perform base conversions.&quot;);</span>

<span class="nc" id="L130">        frame.add(pane);</span>
<span class="nc" id="L131">        frame.setVisible(true);</span>
<span class="nc" id="L132">    }</span>

    /*
     * FUNCTIONALITY OF BUTTONS AND SUCH
     */
    
    private static void calculateAction(JComboBox&lt;String&gt; operationComboBox, 
                                    JComboBox&lt;Byte&gt; baseComboBox, 
                                    JTextField firstNumberField, 
                                    JTextField secondNumberField) 
    {
        // validate input
        try {

<span class="nc" id="L146">            Map&lt;Character, Integer&gt; additionalValueMapping = BaseNumber.NO_MAP;</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">            if (baseComboBox.getSelectedIndex() == 9) { additionalValueMapping = BaseNumber.BASE_16_MAP; }</span>

<span class="nc" id="L149">            byte base = (byte) baseComboBox.getSelectedItem();</span>
<span class="nc" id="L150">            int operation = operationComboBox.getSelectedIndex(); // 0 = ADD, 1 = SUB, 2 = MUL, 3 = DIV</span>

<span class="nc" id="L152">            BaseNumber a = new BaseNumber(base, firstNumberField.getText(), additionalValueMapping);</span>
<span class="nc" id="L153">            BaseNumber b = new BaseNumber(base, secondNumberField.getText(), additionalValueMapping);</span>

<span class="nc bnc" id="L155" title="All 4 branches missed.">            switch (operation) {</span>
                case 0:
<span class="nc" id="L157">                    resultNumberField.setText(BaseNumberOperators.add(a, b).toString());</span>
<span class="nc" id="L158">                    break;</span>
                case 1:
                    // resultNumberField.setText(BaseNumberOperators.sub(a, b).toString());
<span class="nc" id="L161">                    break;</span>
                case 2:
                    // resultNumberField.setText(BaseNumberOperators.mulDigit(a, b).toString());
<span class="nc" id="L164">                    break;</span>
                case 3:
                    // resultNumberField.setText(BaseNumberOperators.divDigit(a, b).toString());
                    break;
            }

<span class="nc" id="L170">        } catch (Exception ex) {</span>
<span class="nc" id="L171">            String message = ex.getMessage();</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">            if (message.length() &gt; 128) { message = message.substring(0, 128) + &quot; [...]&quot;; }</span>
<span class="nc" id="L173">            arithmeticErrorLabel.setText(message);</span>
<span class="nc" id="L174">        }</span>
<span class="nc" id="L175">    }</span>
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>